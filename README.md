# Path joiner and normalizer #

This library provides a simple way to join file system paths together while
completely ignoring the fact that different file systems use different
directory separators. In addition to that, this library also resolves any
parent and current directory references in the path (i.e. '..' and '.'), which
creates cleaner file paths.

This library can also be used to normalize file system paths in addition to
joining them, as passing a single argument will simple return that path in a
normalized form.

The API documentation, which can be generated using Apigen, can be read online
at: http://kit.riimu.net/api/pathjoin/

[![Build Status](https://img.shields.io/travis/Riimu/Kit-PathJoin.svg?style=flat)](https://travis-ci.org/Riimu/Kit-PathJoin)
[![Coverage Status](https://img.shields.io/coveralls/Riimu/Kit-PathJoin.svg?style=flat)](https://coveralls.io/r/Riimu/Kit-PathJoin?branch=master)
[![Scrutinizer Code Quality](https://img.shields.io/scrutinizer/g/Riimu/Kit-PathJoin.svg?style=flat)](https://scrutinizer-ci.com/g/Riimu/Kit-PathJoin/?branch=master)

## Requirements ##

In order to use this library, the following requirements must be met:

  * PHP version 5.4
  
## Installation ##

This library can be installed via [Composer](http://getcomposer.org/). To do
this, download the `composer.phar` and require this library as a dependency. For
example:

```
$ php -r "readfile('https://getcomposer.org/installer');" | php
$ php composer.phar require riimu/kit-pathjoin:1.*
```

Alternatively, you can add the dependency to your `composer.json` and run
`composer install`. For example:

```json
{
    "require": {
        "riimu/kit-pathjoin": "1.*"
    }
}
```

Any library that has been installed via Composer can be loaded by including the
`vendor/autoload.php` file that was generated by Composer.

It is also possible to install this library manually. To do this, download the
[latest release](https://github.com/Riimu/Kit-PathJoin/releases/latest) and
extract the `src` folder to your project folder. To load the library, include
the provided `src/autoload.php` file.

## Usage ##

This library provides exactly one method: `Path::join($path, ...)`. This method
can either take paths as multiple arguments or as a single array. The returned
path uses the system directory separators. For example:

```php
<?php

use Riimu\Kit\PathJoin\Path;
echo Path::join('foo', 'bar') . PHP_EOL; // Will output 'foo/bar' or 'foo\bar'
echo Path::join('foo', '/bar/baz') . PHP_EOL; // Will output 'foo/bar/baz' or 'foo\bar\baz'

// Passing an array works fine too
echo Path::join(['foo', 'bar']) . PHP_EOL; // Will output 'foo/bar' or 'foo\bar'

// You can mix and match the directory separators, irregardless of the system
echo Path::join(['/foo', '\bar\baz']) . PHP_EOL;  // Will output '/foo/bar/baz' or '\foo\bar\baz'
```

The method will also traverse any parent directory appropriately. Note that
there is a slight difference in how absolute and relative paths are handled:

```php
<?php

use Riimu\Kit\PathJoin\Path;
echo Path::join('foo/bar', '../baz') . PHP_EOL; // Will output 'foo/baz'
echo Path::join('foo/bar', '../../baz') . PHP_EOL; // Will output 'baz'
echo Path::join('foo/bar', '../../../baz') . PHP_EOL; // Will output '../baz'

echo Path::join('/foo/bar', '../baz') . PHP_EOL; // Will output '/foo/baz'
echo Path::join('/foo/bar', '../../baz') . PHP_EOL; // Will output '/baz'
echo Path::join('/foo/bar', '../../../baz') . PHP_EOL; // Will output '/baz'

// Windows drive names are understood as absolute paths:
echo Path::join('C:\foo\bar', '..\..\..\baz') . PHP_EOL; // Will output 'C:\baz'
```

Only the first path in the path list can determine the path as an absolute path.
All following paths are relative to that path. For example:

```php
<?php

use Riimu\Kit\PathJoin\Path;
echo Path::join('', '/foo') . PHP_EOL; // Will output 'foo'
echo Path::join('/', '/foo') . PHP_EOL; // Will output '/foo'
```

Current directory paths and empty paths are simply discarded. You can also call
the method with just a single argument to normalize that path, like so:

```php
<?php

use Riimu\Kit\PathJoin\Path;
echo Path::join('/foo/.//bar/../baz/') . PHP_EOL; // Will output '/foo/baz'
```

It may be useful to note that the path returned by the method never has a
directory separator in the end.

## Credits ##

This library is copyright 2014 - 2015 to Riikka KalliomÃ¤ki.

See LICENSE for license and copying information.
